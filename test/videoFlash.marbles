

fn triwave num
	phase num
	?
		!> phase 0.5
		* 2 phase
		* 2 (- 1 phase)


@enter

var phaseIncrem num
	0.01

state lightPhase num
	?
		!< lightPhase 1
		0
		+ lightPhase phaseIncrem

state triwaveOut num
	triwave lightPhase


|videoOut                  |of type byte4**
|	fill~Byte4**
|		build~Byte4**
|			windowWidth
|			sindowHeight
|		fill~byte4            |new value
|			normalTo~byte       |from num 0-1 to byte 0-255
|				triwave lightPhase


