

fn add num
	addendA num
	addendB num
	+ addendA addendB

fn applyBiop num
	biop num & num num
	a num
	b num
	biop a b

fn fnSelector num & num num
	earlyFn num & num num
	lateFn  num & num num
	?
		< currentFrame (/ frameLimit 2)
		earlyFn
		lateFn


@enter

state A num
	applyBiop
		-
		frameLimit
		currentFrame

state B num
	applyBiop
		fnSelector add *
		currentFrame
		12

next
	?
		< currentFrame frameLimit
		enter
		exit

@.

var frameLimit num
	20









|fn everyNthFrame match
|	n num
|	onNthFrame  match
|	offNthFrame match
|	? (% currentFrame n) offNthFrame onNthFrame


|fn timedSwitch match
|	timeLimit num
|	preTimeLimit  match
|	postTimeLimit match
|	?
|		> frameTime timeLimit
|		postTimeLimit
|		preTimeLimit

|fn randomMatchMaker match & n match match
|	a match & n match match
|	b match & n match match
|	? random a b

|state curMatchMaker match & n match match
|	randomMatchMaker everyNthFrame timedSwitch

|state foo num
|	curMatchMaker 0 1



