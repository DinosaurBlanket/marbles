

frameRate
	30
windowWidth
	300
windowHeight
	300

var fillColor byte4
	byte4FromNorms  0.2  0.8  0.4  1.0
var backColor byte4
	byte4FromNorms  0.1  0.3  0.6  1.0


fn ellipseFiller byte4
	xPos num
	yPos num
	sourceWidth  num
	sourceHeight num
	?
		!<
			1
			+
				/
					sqr (- xPos (/ sourceWidth 2))
					sqr (/ sourceWidth 2)
				/
					sqr (- yPos (/ sourceHeight 2))
					sqr (/ sourceHeight 2)
		fillColor
		backColor


@enter

var wobbleRate num
	0.5

state sinOscOut0_1 num
	/
		+ 1 (sin (/ currentFrame (/ frameRate wobbleRate)))
		2


fn ellipseBoundary num4
	num4
		* sinOscOut0_1 (/ windowWidth 3)
		* (- 1 sinOscOut0_1) (/ windowHeight 3)
		-
			windowWidth
			* 2 (* sinOscOut0_1 (/ windowWidth 3))
		-
			windowHeight
			* 2 (* (- 1 sinOscOut0_1) (/ windowHeight 3))

videoOut
	limitedDynamicFillByte4''
		ellipseFiller
		ellipseBoundary
		fillByte4''
			backColor
			buildByte4''
				windowWidth
				windowHeight

