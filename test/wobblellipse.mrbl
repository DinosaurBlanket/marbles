

frameRate
	30
videoWidth
	300
videoHeight
	300

var fillColor byte4
	byte4From01  0.2  0.8  0.4  1.0
var backColor byte4
	byte4From01  0.1  0.3  0.6  1.0


fn ellipseFiller byte4
	xPos num
	yPos num
	sourceWidth  num
	sourceHeight num
	?
		>=
			1
			+
				/
					sqr (- xPos (/ sourceWidth 2))
					sqr (/ sourceWidth 2)
				/
					sqr (- yPos (/ sourceHeight 2))
					sqr (/ sourceHeight 2)
		fillColor
		backColor


@enter

var wobbleRate num
	0.5

state sinOscOut01 num
	/
		+ 1 (sin (/ currentFrame (/ frameRate wobbleRate)))
		2


fn ellipseBoundary num4
	num4
		* sinOscOut01 (/ videoWidth 3)
		* (- 1 sinOscOut01) (/ videoHeight 3)
		-
			videoWidth
			* 2 (* sinOscOut01 (/ videoWidth 3))
		-
			videoHeight
			* 2 (* (- 1 sinOscOut01) (/ videoHeight 3))

videoOut
	limitedDynamicFillByte4D2
		ellipseFiller
		ellipseBoundary
		fillByte4D2
			backColor
			buildByte4D2
				videoWidth
				videoHeight

